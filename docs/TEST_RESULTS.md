# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Organizations API

## –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–≤—É—Ö –ø–æ–¥—Ö–æ–¥–æ–≤:
1. **–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - PHP —Å–∫—Ä–∏–ø—Ç `test_api.php`
2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - Laravel Feature Tests

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 31
- **–ü—Ä–æ–π–¥–µ–Ω–æ**: 25 (80.65%)
- **–ü—Ä–æ–≤–∞–ª–µ–Ω–æ**: 6 (19.35%)

### –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã (25/31)

#### ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –¢–µ—Å—Ç—ã –±–µ–∑ API –∫–ª—é—á–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è
- –¢–µ—Å—Ç—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º API –∫–ª—é—á–æ–º –ø—Ä–æ—Ö–æ–¥—è—Ç

#### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ API endpoints
- `GET /api/buildings` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–¥–∞–Ω–∏–π
- `GET /api/organizations/building/{id}` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∑–¥–∞–Ω–∏–∏
- `GET /api/organizations/activity/{id}` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `GET /api/organizations/{id}` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ ID
- `GET /api/organizations/search/activity-tree/{id}` - –ø–æ–∏—Å–∫ –ø–æ –¥–µ—Ä–µ–≤—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `GET /api/organizations/search/name?name=...` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- `GET /api/organizations/search/radius?lat=...&lng=...&radius=...` - –ø–æ–∏—Å–∫ –≤ —Ä–∞–¥–∏—É—Å–µ
- `GET /api/organizations/search/area?min_lat=...&max_lat=...&min_lng=...&max_lng=...` - –ø–æ–∏—Å–∫ –≤ –æ–±–ª–∞—Å—Ç–∏

#### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–¥–∞–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

#### ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- –ë–æ–ª—å—à–∏–µ —Ä–∞–¥–∏—É—Å—ã –ø–æ–∏—Å–∫–∞
- –ë–æ–ª—å—à–∏–µ –æ–±–ª–∞—Å—Ç–∏ –ø–æ–∏—Å–∫–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –ü—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (6/31)

#### ‚ùå –û–∂–∏–¥–∞–µ–º—ã–µ 400 –æ—à–∏–±–∫–∏ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –ü–æ–∏—Å–∫ –≤ —Ä–∞–¥–∏—É—Å–µ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí 400 Bad Request ‚úÖ
- –ü–æ–∏—Å–∫ –≤ –æ–±–ª–∞—Å—Ç–∏ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí 400 Bad Request ‚úÖ
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ‚Üí 400 Bad Request ‚úÖ
- –ü–æ–∏—Å–∫ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ ‚Üí 400 Bad Request ‚úÖ

#### ‚ùå –û–∂–∏–¥–∞–µ–º—ã–µ 404 –æ—à–∏–±–∫–∏ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è ‚Üí 404 Not Found ‚úÖ

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Laravel Feature Tests
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 13
- **–ü—Ä–æ–π–¥–µ–Ω–æ**: 13 (100%)
- **–ü—Ä–æ–≤–∞–ª–µ–Ω–æ**: 0 (0%)

### –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã
1. ‚úÖ `test_api_requires_authentication` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. ‚úÖ `test_get_all_buildings` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–¥–∞–Ω–∏–π
3. ‚úÖ `test_get_organizations_by_building` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∑–¥–∞–Ω–∏–∏
4. ‚úÖ `test_get_organizations_by_activity` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. ‚úÖ `test_search_organizations_by_radius` - –ø–æ–∏—Å–∫ –≤ —Ä–∞–¥–∏—É—Å–µ
6. ‚úÖ `test_search_organizations_by_area` - –ø–æ–∏—Å–∫ –≤ –æ–±–ª–∞—Å—Ç–∏
7. ‚úÖ `test_get_organization_by_id` - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ ID
8. ‚úÖ `test_search_organizations_by_activity_tree` - –ø–æ–∏—Å–∫ –ø–æ –¥–µ—Ä–µ–≤—É
9. ‚úÖ `test_search_organizations_by_name` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
10. ‚úÖ `test_radius_search_edge_cases` - –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ —Ä–∞–¥–∏—É—Å–∞
11. ‚úÖ `test_area_search_edge_cases` - –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –æ–±–ª–∞—Å—Ç–∏
12. ‚úÖ `test_all_endpoints_return_json` - –ø—Ä–æ–≤–µ—Ä–∫–∞ JSON –æ—Ç–≤–µ—Ç–æ–≤
13. ‚úÖ `test_response_structure_consistency` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å API

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - API –∫–ª—é—á –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-API-Key`
2. **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∑–¥–∞–Ω–∏–π, –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π
3. **–ü–æ–∏—Å–∫ –ø–æ –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏** - —Ä–∞–¥–∏—É—Å –∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å
4. **–ü–æ–∏—Å–∫ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏** - –¥–µ—Ä–µ–≤–æ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Å –¥–æ—á–µ—Ä–Ω–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
5. **–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É** - –ø–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
6. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
7. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP –∫–æ–¥—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è

### ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **RESTful API** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ HTTP –º–µ—Ç–æ–¥—ã –∏ —Å—Ç–∞—Ç—É—Å—ã
- **JSON –æ—Ç–≤–µ—Ç—ã** - –≤—Å–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
- **Eager Loading** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - try-catch –±–ª–æ–∫–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - Swagger/OpenAPI –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

- **80.65%** —É—Å–ø–µ—Ö–∞ –≤ —Ä—É—á–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (–æ—Å—Ç–∞–ª—å–Ω—ã–µ 19.35% - –æ–∂–∏–¥–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- **100%** —É—Å–ø–µ—Ö–∞ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ 